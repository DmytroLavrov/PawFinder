<div class="dog-list-container">
  <header class="list-header">
    <h1 class="page-title">Find Your Perfect Companion</h1>
  </header>

  <div class="filters-section">
    <app-breed-filter [searchQuery]="searchQuery" (searchChange)="onSearchChange($event)" />
  </div>

  @if (isLoading()) {
    <app-loader />
  } @else if (error()) {
    <app-error-message [message]="error()!" (retry)="onRetry()" />
  } @else if (dogs().length > 0) {
    <div class="dogs-grid">
      @for (dog of dogs(); track dog.id) {
        <app-dog-card [dog]="dog" />
      }
    </div>

    @if (!searchQuery()) {
      <div class="load-more-section" #loadMoreSection>
        @if (isLoadingMore()) {
          <div class="loading-more">
            <div class="spinner-small"></div>
            <span>Loading more...</span>
          </div>
        } @else if (hasMoreData()) {
          <button class="load-more-btn" (click)="onLoadMore()">Load More Dogs</button>
        }
      </div>
    }
  } @else {
    <div class="empty-state">
      <div class="empty-icon">üêï</div>
      <h3>No dogs found</h3>
      <p>Try searching for a different breed (e.g. "Akita")</p>
      <button class="retry-btn" (click)="onSearchChange('')">Clear Search</button>
    </div>
  }
</div>
